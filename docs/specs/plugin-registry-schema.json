{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://airo.app/schemas/plugin-registry-v1.json",
  "title": "Plugin Registry",
  "description": "Schema for Airo plugin registry (plugins.json)",
  "type": "object",
  "required": ["version", "plugins"],
  "properties": {
    "version": {
      "type": "string",
      "pattern": "^\\d{4}-\\d{2}-\\d{2}$",
      "description": "Registry version date (YYYY-MM-DD)"
    },
    "plugins": {
      "type": "array",
      "items": {
        "type": "object",
        "required": ["id", "latest_version", "download_url"],
        "properties": {
          "id": {
            "type": "string",
            "pattern": "^com\\.airo\\.plugin\\.[a-z][a-z0-9]*$",
            "description": "Plugin ID in reverse domain notation"
          },
          "latest_version": {
            "type": "string",
            "pattern": "^\\d+\\.\\d+\\.\\d+$",
            "description": "Latest available version"
          },
          "download_url": {
            "type": "string",
            "format": "uri",
            "description": "Download URL for the plugin bundle"
          },
          "changelog_url": {
            "type": "string",
            "format": "uri",
            "description": "Optional changelog URL"
          }
        }
      },
      "description": "Available plugins"
    }
  },
  "examples": [
    {
      "version": "2026-02-09",
      "plugins": [
        {
          "id": "com.airo.plugin.beats",
          "latest_version": "1.2.0",
          "download_url": "https://cdn.airo.app/plugins/beats/1.2.0/plugin.zip",
          "changelog_url": "https://cdn.airo.app/plugins/beats/CHANGELOG.md"
        },
        {
          "id": "com.airo.plugin.games",
          "latest_version": "1.0.0",
          "download_url": "https://cdn.airo.app/plugins/games/1.0.0/plugin.zip"
        }
      ]
    }
  ]
}

